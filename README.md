# NestJS + Clean Architecture + Domain Driven Design
**Sem d√∫vida, o projeto no qual experimentei a maior curva de aprendizado em toda a minha carreira. üöÄ** 
1. Estruturei um projeto empregando o **Domain Driven Design** para alinhar o desenvolvimento com os requisitos dos diversos dom√≠nios e subdom√≠nios de um mon√≥lito segmentado.
2. Apliquei os princ√≠pios da **Arquitetura Limpa** ao segmentar a aplica√ß√£o em camadas independentes, permitindo a separa√ß√£o clara das responsabilidades e a manuten√ß√£o de um c√≥digo mais organizado e escal√°vel.
3. Desenvolvi a aplica√ß√£o usando o framework **[NestJS](https://docs.nestjs.com/)**, que oferece uma estrutura s√≥lida e altamente modular para simplificar o desenvolvimento.
## Conceitos aplicados:
* **Clean architeture:**
  * **[Database](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/infra/database):** De acordo com os princ√≠pios da arquitetura limpa, foi desenvolvida uma estrutura que efetivamente separa a camada de banco de dados do restante da aplica√ß√£o, utilizando interfaces para alcan√ßar esse desacoplamento total.
  * **[Controllers](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/infra/http/controllers):** S√£o respons√°veis por gerenciar a coordena√ß√£o das intera√ß√µes de entrada e sa√≠da de dados da aplica√ß√£o por meio do protocolo HTTP.
  * **[Presenters](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/infra/http/presenters):** S√£o respons√°veis por receber os dados provenientes das camadas mais internas da aplica√ß√£o e prepar√°-los para intera√ß√£o com as camadas externas.
  * **[Gateways](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/domain/forum/application/use-cases/upload-and-create-attachment.ts#L25):** O conceito de Gateway foi empregado na cria√ß√£o de interfaces que simplificam a comunica√ß√£o entre a camada de aplica√ß√£o e as camadas externas do sistema. Exemplo: Servi√ßo de armazenamento de imagens, garantindo que, no caso de uma eventual mudan√ßa na plataforma de armazenamento, a camada de aplica√ß√£o permane√ßa inalterada, sem sofrer qualquer impacto.
  * **[External Interfaces](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/infra/storage/tebi-storage.ts):** Segundo a arquitetura limpa, as "external interfaces" s√£o as implementa√ß√µes reais dos Gateways.
  * **[Use cases](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain/forum/application/use-cases):** Casos de uso na arquitetura limpa representam intera√ß√µes entre atores e sistemas, definindo requisitos funcionais e comportamentais de forma clara.
  * **[Entities](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain/forum/enterprise/entities):** Representam os objetos de neg√≥cio ou dom√≠nio central da aplica√ß√£o e encapsulam o estado e o comportamento relacionados a esses objetos.
* **Domain Driven Design:**
  * **[Domain](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain):** O dom√≠nio (domain) refere-se a um conjunto de conceitos, regras, processos e comportamentos que s√£o fundamentais para um determinado neg√≥cio ou aplica√ß√£o.
  * **[Aggregate](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/core/entities/aggregate-root.ts):** Um agregado (aggregate) √© um conjunto de objetos de dom√≠nio que s√£o tratados como uma unidade coesa. Eles s√£o usados para delimitar transa√ß√µes consistentes de mudan√ßa de estado dentro do dom√≠nio.
  * **[Bounded Context](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain/forum):** Bounded Context (contexto delimitado / subdom√≠nio) √© uma t√©cnica para definir limites expl√≠citos em torno de um conjunto de modelos de dom√≠nio. Cada Bounded Context √© uma fronteira l√≥gica que separa um modelo de dom√≠nio espec√≠fico, com suas pr√≥prias regras, termos e limites, de outros modelos de dom√≠nio dentro do mesmo sistema.
  * **[Domain Events](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain/forum/enterprise/events):** Um evento de dom√≠nio (domain event) √© uma notifica√ß√£o ass√≠ncrona que indica que algo importante aconteceu no dom√≠nio do sistema. Ele representa um fato ocorrido dentro do sistema que pode ser interessante para outras partes do sistema e pode ser usado para tomar decis√µes ou gerar novas a√ß√µes.
  * **[Value Objects](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/tree/master/src/domain/forum/enterprise/entities/value-objects):** Um Value Object (objeto de valor) √© uma classe que representa um valor que √© importante para o dom√≠nio, mas que n√£o possui identidade pr√≥pria. Em outras palavras, um Value Object √© um objeto que √© definido pelos seus atributos, em vez de ser definido por uma identidade exclusiva.
## Extras:
* **[Cach√™](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/infra/database/prisma/repositories/prisma-questions-repository.ts#L48):** Desenvolvi um modelo exemplar de estrat√©gia de cache em um ponto de acesso da aplica√ß√£o, utilizando o banco de dados Redis. A utiliza√ß√£o de cache em rotas HTTP que s√£o frequentemente acessadas com poucas modifica√ß√µes traz consigo in√∫meros benef√≠cios, incluindo a otimiza√ß√£o de desempenho, economia de largura de banda, maior capacidade de escalonamento e aperfei√ßoamento da experi√™ncia do usu√°rio.
* **[Servi√ßo de armazenamento de imagens](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/infra/storage/tebi-storage.ts):** Optei por utilizar o servi√ßo de armazenamento de arquivos [Tebi](https://tebi.io/) para a guarda das imagens que os usu√°rios da aplica√ß√£o fazem upload, o qual √© fundamentado na API do Amazon S3.
* **[Autentica√ß√£o JWT com algoritmo RS256](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/src/infra/auth/jwt.strategy.ts):** Implementei autentica√ß√£o JWT para refor√ßar a seguran√ßa das rotas da aplica√ß√£o, adquirindo conhecimento e empregando o algoritmo RS256. Esse algoritmo, que se fundamenta em um par de chaves de criptografia, desempenha um papel crucial na prote√ß√£o de microservi√ßos.
* **[Testes automatizados](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/vitest.config.ts):** Por meio da biblioteca [Vitest](https://vitest.dev/), desenvolvi uma suite de testes que abrange tanto testes unit√°rios como testes automatizados de ponta a ponta. Essa suite de testes abrange todos os requisitos funcionais e regras de neg√≥cio da aplica√ß√£o, garantindo sua integridade e desempenho.
* **[Docker](https://www.docker.com/):** Criei um arquivo [docker-compose.yml](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/docker-compose.yml), com o prop√≥sito de simplificar a implanta√ß√£o local de servi√ßos externos necess√°rios para o funcionamento da aplica√ß√£o. Isso permite que os servi√ßos sejam provisionados de forma conveniente em um ambiente de desenvolvimento.
* **[Outros conceitos](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/package.json):** Ampliei meu conhecimento e integrei uma variedade de outros conceitos, incluindo o tratamento de erros funcionais, a utiliza√ß√£o de recursos avan√ßados do TypeScript e a cria√ß√£o de listas observadas (Watched Lists).
* **[Outras ferramentas](https://github.com/brayan-jordan/nestjs-clean-architeture-ddd/blob/master/package.json):** Ampliei meus conhecimentos usando as ferramentas: ESLint, Prisma, BCryptJS, DayJS, ZOD, SWC, Supertest, Vitest, NestJS e seus m√≥dulos.
